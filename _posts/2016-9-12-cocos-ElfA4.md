---
layout: post
title: ElfA制作流程(4)【cocos creator横版游戏制作记录】
keywords: Sign,Sign的博客,技术文章,web开发,cocos creator,横版游戏,web game
description: 最近忽然想通了，为什么不借助游戏引擎制作呢？
tags: [animation, web]
---
基于cocos creator制作一款横版游戏。

**这不是教程**

--------

## Day 8

加了血条，cocos creator里面有个进度条组件，正好可以用来做血条，不过其实没有这个组件也没差……

hp的控制基本上和敌人是一样的，在碰撞的时候把伤害传进去

```javascript
var face = - Math.abs(self.node.parent.scaleX) / self.node.parent.scaleX;
other.node.getComponent("player").hurt(face, this.damage, this.lie);
self.node.parent.getComponent("enemy").hitEffectPrefabShow();
```

最后只要在敌人或自己的受伤函数里判断下当前hp是否为0，然后写上游戏结束就行。

至此游戏基本是完成了。

可以在这里试试，bug还挺多

PC端用键盘WASD移动，J键攻击。

<a href="http://ccx01.github.io/game/ElfA/demo/web-mobile/" target="_blank">http://ccx01.github.io/game/ElfA/demo/web-mobile/</a>

移动端可以扫码：

![ElfA QRcode](/img/2016-9-12-cocos-ElfA4/qr.png)

左边是摇杆，右边是攻击按键。

--------

写在后面

其实在Day7的时候，这个游戏基本就完成了，也就是说，从零开始，如果强行实现的话，其实只要7天就够了。

这效率的确杠杆的……

不过bug很多，而且强行实现，对于写的人来说，还是比较糟糕。

Day7到Day8这之间隔了大概1个礼拜。

原因有好几个：

1、首先就是这个游戏的确比预期快很多“完成”了，于是松懈了。

而对于之后要制作的内容，主要是“重构”。毕竟所有的内容都是“强行实现”，所以比较乱。但是这一部分就让人有点却步，这是一个可多可少的工作，也许只要合并一些冗余代码，但是也许一不小心就要大段重写。

既然要重写，那么休息一会也无可厚非，但是**暂停是最严苛的修行**。在习惯没有养成之前的休息是最为可怕的阶段，挣扎过的人都懂，比如健身，比如减肥，那是前功尽弃的最佳阶段。然而不休息也就是原地踏步而已。

几年前看到一个故事，大意就是一个年轻人问宫本武藏，“大师，我如果要达到你的境界，那么需要修炼多少年的时间？”

“10年。”宫本武藏回答到。

“那我加倍努力，加倍锻炼呢？”

“那样大概要7年。”

“那我从现在开始不眠不休，一直努力修炼呢？能在多少年赶上你？”

“啊，”宫本武藏回过头瞄了一眼年轻人，“那大概这辈子都无法超越我了。”

当然，原本的故事后面画蛇添足的加了很多解释。

懂的停下来，并且能在停下来后继续前进的人，才是真正强大的人。

不过很可惜，大部分人都做不到这点。

前面7天完成游戏，然后就休息7天的人，怎么都不能算是休息了。顶多就是3分钟热度燃烧结束而已。

所以明天开始，要以“新的开始”，重新面对这个游戏了。

2、另外一个原因，也是停下来最重要的一个原因 —— 我找人试玩了。

他们玩了大概20秒左右。

所以我知道这个东西很没意思。

严格来说，这个并不是游戏，只是个demo。但是，能打怪，有胜负，怎么能叫不是游戏呢？

而且20秒，说实话也没有想象的那么差。

但是，之前的“合成10”。他们玩了半个小时……在没有排行榜，朋友圈分享这种加成的情况下，玩了近半个小时，而且还在隔天继续，最后终结于没有后续。没有后续，主要因为这个“不是我的游戏”，毕竟是完全根据 合成10 的游戏玩法写的，什么是自己的，什么不是，这点认知还是有的。当然，要不是域名没备案，在微信里发不出去……我肯定会去接数据库，收集一下排行的。

回到ElfA，虽说只是demo，但是也让我意识到，我没必要去纠结于“移植”这个概念，比如虚拟手柄，我在若干年前就表现出在手机上实现虚拟手柄的不屑，这个就像你明明手拿一把AK，却拿它当木棍冲上前和人肉搏一样。

所以，既然要“重构”，那当然不可能只是从代码层面了。

毕竟要做的，是游戏。


<a href="http://ccx01.github.io/post/cocos-ElfA1">ElfA制作流程(1)</a>

<a href="http://ccx01.github.io/post/cocos-ElfA2">ElfA制作流程(2)</a>

<a href="http://ccx01.github.io/post/cocos-ElfA3">ElfA制作流程(3)</a>

<a href="http://ccx01.github.io/post/cocos-ElfA4">ElfA制作流程(4)</a>